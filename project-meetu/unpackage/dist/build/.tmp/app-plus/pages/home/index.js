(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/index"],{"0341":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},i=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i})},"1d09":function(e,t,n){"use strict";n.r(t);var a=n("0341"),i=n("98e3");for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);n("392e");var r=n("2877"),s=Object(r["a"])(i["default"],a["a"],a["b"],!1,null,null,null);t["default"]=s.exports},"38c3":function(e,t,n){"use strict";(function(e){n("e1e3"),n("921b");a(n("66fd"));var t=a(n("1d09"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},"392e":function(e,t,n){"use strict";var a=n("65f2"),i=n.n(a);i.a},"65f2":function(e,t,n){},"98e3":function(e,t,n){"use strict";n.r(t);var a=n("d9c2"),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);t["default"]=i.a},d9c2:function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("2f62"),o=r(n("c478"));function r(e){return e&&e.__esModule?e:{default:e}}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={name:"homeIndex",components:{},mixins:[o.default],data:function(){return{isSendSignal:!1,showDailyLogin:!1,appName:"Meet U",showSendToast:!1,userNumber:null,notreadNum:0}},computed:s({},(0,i.mapGetters)(["userInfo"])),watch:{},onLoad:function(){this.api_UserNumber()},onReady:function(){e.getStorageSync("homeSendToast")?this.showSendToast=!1:this.showSendToast=!0},onShow:function(){var t=this;if(this.api_UserInfo(),getApp().globalData.sendSignal&&(this.isSendSignal=!0,this.api_UserNumber(),setTimeout(function(){getApp().globalData.sendSignal=!1,t.isSendSignal=!1},4e3)),e.getStorageSync("dailyLoginExpires")){var n=(new Date).getTime();n>e.getStorageSync("dailyLoginExpires")?(this.clog("mow","超过"),this.showDailyLogin=!0):(this.clog("mow","未超过"),this.showDailyLogin=!1)}else this.showDailyLogin=!0},methods:{api_UserInfo:function(){var e=this;this.$http1.post("user/info").then(function(t){e.$store.dispatch("changeVal",{stateKey:"userInfo",newValue:t.data}),e.number=!0}).catch(function(e){console.log(a("userinfo-err",e," at pages\\home\\index.vue:150"))})},api_UserNumber:function(){var e=this;this.$http1.post("user/number").then(function(t){e.userNumber=t.data}).catch(function(e){})},api_DailyLogin:function(){var t=this,n=this;this.$http1.post("points/daily-login").then(function(a){0==a.code&&(t.modalShow("toastModal","领取成功"),t.showDailyLogin=!1,e.setStorageSync("dailyLoginExpires",n.expiresTime()))})},dailyLogin:function(){this.api_DailyLogin()},linkUser:function(){e.navigateTo({url:"../user/index",animationDuration:300,animationType:"fade-in"})},linkAction:function(t){switch(t){case"search":e.navigateTo({url:"../search/search",animationDuration:300,animationType:"fade-in"});break;case"send":e.getStorageSync("homeSendToast")||(e.setStorageSync("homeSendToast",!0),this.showSendToast=!1),this.modalName="bottomModal";break;case"chatList":e.navigateTo({url:"../chat/list",animationDuration:300,animationType:"fade-in"});break;case"sendText":this.modalName="",e.navigateTo({url:"../send/text",animationDuration:300,animationType:"fade-in"});break;case"sendVoice":this.modalName="",e.navigateTo({url:"../send/voice",animationDuration:300,animationType:"slide-in-bottom"});break}},expiresTime:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1>9?e.getMonth()+1:"0"+e.getMonth()+1,a=e.getDate()>9?e.getDate():"0"+e.getDate(),i=t+"/"+n+"/"+a+" 23:59:59";return new Date(i).getTime()},hideModal:function(){this.modalName=""}}};t.default=c}).call(this,n("6e42")["default"],n("0de9")["default"])}},[["38c3","common/runtime","common/vendor"]]]);