(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/chat/chat"],{"0e3d":function(t,e,o){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"chat",data:function(){return{oppositeinfo:null,style:{contentViewHeight:0,mitemHeight:0,scrollViewMarginTop:t.upx2px(30)},scrollTop:0,scrollToView:"",SoftKeyboardHeight:0,textareaValue:"",isFocus:!1,isLoad:!0,isHistoryLoad:!1,chatInfo:[{id:1,contentType:"text",isself:!0,avatarUrl:"https://ossweb-img.qq.com/images/lol/web201310/skin/big107000.jpg",content:"狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋!",date:"2018年3月23日 13:23"},{id:2,contentType:"text",isself:!1,avatarUrl:"https://ossweb-img.qq.com/images/lol/web201310/skin/big143004.jpg",content:"狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋!",date:"13:23"},{id:3,contentType:"image",isself:!0,avatarUrl:"https://ossweb-img.qq.com/images/lol/web201310/skin/big107000.jpg",content:"https://ossweb-img.qq.com/images/lol/web201310/skin/big10004.jpg",date:"13:23"},{id:4,contentType:"image",isself:!1,avatarUrl:"https://ossweb-img.qq.com/images/lol/web201310/skin/big143004.jpg",content:"https://ossweb-img.qq.com/images/lol/web201310/skin/big10006.jpg",date:"13:23"},{id:5,contentType:"text",isself:!1,avatarUrl:"https://ossweb-img.qq.com/images/lol/web201310/skin/big143004.jpg",content:"狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋!",date:"13:23"},{id:6,contentType:"text",isself:!1,avatarUrl:"https://ossweb-img.qq.com/images/lol/web201310/skin/big143004.jpg",content:"狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋!",date:"13:23"},{id:7,contentType:"text",isself:!1,avatarUrl:"https://ossweb-img.qq.com/images/lol/web201310/skin/big143004.jpg",content:"狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋! 狗蛋!",date:"13:23"}]}},onLoad:function(t){this.oppositeinfo=JSON.parse(t.oppositeinfo)},onShow:function(){var e=this,o=t.getSystemInfoSync();this.style.contentViewHeight=o.windowHeight-o.screenWidth/750*100-this.CustomBar-this.style.scrollViewMarginTop,setTimeout(function(){e.isLoad=!1,e.scrollToBottom()},1e3)},methods:{loadChatInfo:function(){var t=this;console.log(o("加载"," at pages\\chat\\chat.vue:174")),setTimeout(function(){t.isHistoryLoad=!1},2e3)},loadHistoryChatInfo:function(){this.isHistoryLoad||(this.isHistoryLoad=!0,this.loadChatInfo())},scrollToBottom:function(){var e=this,i=t.createSelectorQuery();i.selectAll(".cu-item").boundingClientRect(),i.select(".panel-scroll-chat-view").boundingClientRect(),i.exec(function(t){e.style.mitemHeight=0,t[0].forEach(function(t){return e.style.mitemHeight=e.style.mitemHeight+t.height}),setTimeout(function(){e.style.mitemHeight>e.style.contentViewHeight&&(e.scrollTop=e.style.mitemHeight-e.style.contentViewHeight,console.log(o("scrollTop",e.scrollTop," at pages\\chat\\chat.vue:201")))},10)})},TextareaFocus:function(t){this.softKeyboardHeightHandle("up",t.detail.height);var e=this;setTimeout(function(){e.scrollToBottom()},10)},TextareaInput:function(t){this.textareaValue=t.detail.value},TextareaBulr:function(){var t=this;0==t.isFocus&&(t.softKeyboardHeightHandle("down",t.SoftKeyboardHeight),setTimeout(function(){t.scrollToBottom()},10))},InputBlur:function(t){var e=this;e.isFocus=!1,e.softKeyboardHeightHandle("down",e.SoftKeyboardHeight),setTimeout(function(){e.scrollToBottom()},10)},softKeyboardHeightHandle:function(t,e){"up"==t?(this.style.contentViewHeight-=e,this.SoftKeyboardHeight=e):"down"==t&&(this.style.contentViewHeight+=e,this.SoftKeyboardHeight=0)},chooseImg:function(){t.chooseImage({count:3,sizeType:["compressed "],sourceType:["album ","camera "],success:function(t){console.log(o(t," at pages\\chat\\chat.vue:248"))}})},submit:function(){this.isFocus=!0,this.textareaValue&&(console.log(o(this.textareaValue," at pages\\chat\\chat.vue:255")),this.textareaValue="")}},onHide:function(){this.InputBlur()}};e.default=i}).call(this,o("6e42")["default"],o("0de9")["default"])},"14b6":function(t,e,o){},"383c":function(t,e,o){"use strict";(function(t){o("e1e3"),o("921b");i(o("66fd"));var e=i(o("4436"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("6e42")["createPage"])},4436:function(t,e,o){"use strict";o.r(e);var i=o("60ef"),n=o("9a16");for(var s in n)"default"!==s&&function(t){o.d(e,t,function(){return n[t]})}(s);o("dfd1");var a=o("2877"),c=Object(a["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=c.exports},"60ef":function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},n=[];o.d(e,"a",function(){return i}),o.d(e,"b",function(){return n})},"9a16":function(t,e,o){"use strict";o.r(e);var i=o("0e3d"),n=o.n(i);for(var s in i)"default"!==s&&function(t){o.d(e,t,function(){return i[t]})}(s);e["default"]=n.a},dfd1:function(t,e,o){"use strict";var i=o("14b6"),n=o.n(i);n.a}},[["383c","common/runtime","common/vendor"]]]);